<!DOCTYPE html><!--[if lt IE 7]>      <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if IE 7]>         <html class="lt-ie9 lt-ie8"> <![endif]--><!--[if IE 8]>         <html class="lt-ie9"> <![endif]--><!--[if gt IE 8]><!--> <html><!--<![endif]--><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>It&#39;s here, my Ghost blog - joakimbeng</title><meta name="description" content="Let&#39;s code a better tomorrow..."><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="../assets/css/screen.css" rel="stylesheet"><link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400|Source+Code+Pro:400"><link href="../assets/css/tomorrow-night-eighties.min.css" rel="stylesheet"><link rel="alternate" type="application/rss+xml" href="https://joakim.beng.se/blog/rss.xml"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-5147086-5"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-5147086-5');</script></head><body class="post-template"><main class="content"><article class="post"><header class="post-header"><a id="blog-logo" href="../"><h1 class="blog-title">joakimbeng</h1></a></header><span class="post-meta"><time datetime="2013-12-03">03 Dec 2013</time>&nbsp;on <a class="tag" href="../tags/blog.html">blog</a>, <a class="tag" href="../tags/appfog.html">appfog</a>, <a class="tag" href="../tags/ghost.html">ghost</a></span><h1 class="post-title">It&#39;s here, my Ghost blog</h1><section class="post-content"><p><strong>For quite awhile now I&#39;ve been thinking</strong> about creating a blog where I could share my thoughts about anything, and particularly coding &amp; development...</p>
<p>As I&#39;m really into <em>javascript</em> nowadays I was very glad to see the <a href="http://blog.ghost.org/public-launch/">public launch of Ghost</a> which is the blog platform that this one is built with.</p>
<p>And here&#39;s how I got it up and running:</p>
<h2 id="ghost--appfog">Ghost + Appfog</h2>
<p>I decided that I wanted to host my blog on <a href="http://appfog.com">Appfog</a> because I think it&#39;s a good and easy to use service, moreover I&#39;ve discovered that they have a great uptime using another useful service <a href="http://pingdom.com">Pingdom</a>.</p>
<h3 id="making-ghost-work-on-appfog">Making Ghost work on Appfog</h3>
<h4 id="ignore-nodejs-010-requirement">Ignore NodeJS 0.10 requirement</h4>
<p>Currently Appfog doesn&#39;t support NodeJS 0.10 which Ghost claims it needs, but fear not! Just comment out these lines in <code>./core/server.js</code> (starting at line 382):</p>
<pre><code>    <span class="hljs-keyword">if</span> (!semver.satisfies(process.versions.node, packageInfo.engines.node)) {
        console.log(
            <span class="hljs-string">&quot;\nERROR: Unsupported version of Node&quot;</span>.red,
            <span class="hljs-string">&quot;\nGhost needs Node version&quot;</span>.red,
            packageInfo.engines.node.yellow,
            <span class="hljs-string">&quot;you are using version&quot;</span>.red,
            process.versions.node.yellow,
            <span class="hljs-string">&quot;\nPlease go to http://nodejs.org to get the latest version&quot;</span>.green
        );

        process.<span class="hljs-keyword">exit</span>(<span class="hljs-number">0</span>);
    }</code></pre>
<p>And remove line 9-11 in <code>./package.json</code>:</p>
<pre><code>{
  <span class="hljs-comment">// these lines:</span>
  <span class="hljs-attr">&quot;engines&quot;</span>: {
    <span class="hljs-attr">&quot;node&quot;</span>: <span class="hljs-string">&quot;&gt;=0.10.* &lt;0.11.4&quot;</span>
  },
  <span class="hljs-comment">// ...</span>
}</code></pre>
<p><strong>N.B</strong> Probably Ghost has a good reason for the 0.10 requirement, but I haven&#39;t found anything that doesn&#39;t work yet. <em>Please let me know me if you do!</em></p>
<h4 id="change-db-to-mysql">Change DB to MySQL</h4>
<p>Ghost uses Sqlite by default but have support for MySQL as well, which Appfog does too. I followed <a href="http://www.codeforest.net/ghost-blogging-platform-review">this post at Codeforest</a> and adapted it to Appfog like this:</p>
<p>Add a MySQL service to your Appfog application, then modify <code>./config.js</code> lines 4-5 to this:</p>
<pre><code><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>),
    mysql = process.env.NODE_ENV === <span class="hljs-string">&#x27;production&#x27;</span> ? <span class="hljs-built_in">JSON</span>.parse(process.env.VCAP_SERVICES)[<span class="hljs-string">&quot;mysql-5.1&quot;</span>][<span class="hljs-number">0</span>].credentials : {},
    config;</code></pre>
<p>And then under the <code>production</code> config section set the database configuration to the following:</p>
<pre><code><span class="hljs-keyword">database</span>: {
    client: <span class="hljs-string">&#x27;mysql&#x27;</span>,
    <span class="hljs-keyword">connection</span>: {
        <span class="hljs-keyword">database</span>: mysql.name,
        host: mysql.host,
        <span class="hljs-keyword">user</span>: mysql.<span class="hljs-keyword">user</span>,
        <span class="hljs-keyword">password</span>: mysql.<span class="hljs-keyword">password</span>
    },
    <span class="hljs-keyword">debug</span>: <span class="hljs-keyword">false</span>
},</code></pre>
<p>Also don&#39;t forget to install <code>mysql</code> module with:</p>
<pre><code>npm <span class="hljs-keyword">install</span> mysql</code></pre>
<h3 id="profit">Profit</h3>
<p>That&#39;s it, now you can run:</p>
<pre><code>af <span class="hljs-keyword">update</span> <span class="hljs-symbol">&lt;your_app_name&gt;</span></code></pre>
<p>And it should work!</p>
<p><strong>Happy blogging!</strong></p>
</section><footer class="post-footer"><div class="tags"><section class="author"><h4>Joakim Carlstein</h4><p></p></section><section class="share"><h4>Share this post</h4><a class="icon-twitter" href="https://twitter.com/share?text=It&#39;s here, my Ghost blog&amp;url=https://joakim.beng.se/blog/posts/its-here-my-ghost-blog.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><span class="hidden">Twitter</span></a><a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://joakim.beng.se/blog/posts/its-here-my-ghost-blog.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><span class="hidden">Facebook</span></a></section></div></footer><div><hr></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'joakimbeng';var disqus_identifier = 'posts/its-here-my-ghost-blog.html';var disqus_url = 'https://joakim.beng.se/blog/posts/its-here-my-ghost-blog.html';var disqus_title = 'It&#39;s here, my Ghost blog - joakimbeng';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></article></main><footer class="site-footer"><a class="subscribe icon-feed" href="https://joakim.beng.se/blog/rss.xml"><span class="tooltip">Subscribe!</span></a><div class="inner"><section class="copyright">All content copyright <a href="/">joakimbeng</a> © 2015 • All rights reserved.</section><section class="poweredby">Built in a <a href="https://github.com/joakimbeng/jiffy">jiffy</a> with a <a href="https://ghost.org"><i class="icon-ghost"></i> Ghost</a> theme</section></div></footer></body></html>